import{r as e,o as c,c as l,a as n,b as a,w as p,F as r,d as o,e as s}from"./app.12b41512.js";import{_ as u}from"./plugin-vue_export-helper.21dcd24c.js";const d={},k=o(`<h1 id="introduction" tabindex="-1"><a class="header-anchor" href="#introduction" aria-hidden="true">#</a> Introduction</h1><p>Hetu is a lightweight script language purely written in Dart for embedding in Flutter apps. The main goal is to enable Flutter apps to have hotfix and scripting ability.</p><p>We did not choose to use another existing language to achieve the goal. Because we want to keep it away from interference of other language&#39;s complex implementation and their irrelative-to-Flutter eco-system. This will keep this language simple and focus on what we actually need.</p><h2 id="quick-start" tabindex="-1"><a class="header-anchor" href="#quick-start" aria-hidden="true">#</a> Quick start</h2><p>Below is an example to evaluate a piece of Hetu code in string literal form in Dart.</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string">&#39;package:hetu_script/hetu_script.dart&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> hetu <span class="token operator">=</span> <span class="token class-name">Hetu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  hetu<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  hetu<span class="token punctuation">.</span><span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">r&#39;&#39;&#39;
    var ht = {
      name: &#39;Hetu&#39;,
      greeting: () {
        print(&#39;Hi! I\\&#39;m&#39;, this.name)
      }
    }
    ht.greeting()
  &#39;&#39;&#39;</span><span class="token punctuation">,</span> isModule<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div>`,6),h=s("Hetu's "),m=s("grammar"),b=s(" is close to typescript/kotlin/swift and other modern languages."),g=n("ul",null,[n("li",null,"Semicolon is optional."),n("li",null,"Function starts with a keyword like 'fun, get, set, construct'."),n("li",null,"Support both class based OOP and prototype based OOP, and also functional programming. You can choose whatever style you want."),n("li",null,"Type annotation is optional. Variable declared will infer its type from its initializer expression. (The static analysis is still WIP.)")],-1),_=n("h2",{id:"binding",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#binding","aria-hidden":"true"},"#"),s(" Binding")],-1),f=s("Communicating with Dart"),v=s(" is very easy. You can directly pass common value types from and to script."),y=o(`<p>This example shows an basic usage of binding:</p><p>1, define a dart function.</p><p>2, use it to pass a Map to script.</p><p>3, directly modify it in script and get it back.</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string">&#39;package:hetu_script/hetu_script.dart&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> hetu <span class="token operator">=</span> <span class="token class-name">Hetu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  hetu<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>externalFunctions<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&#39;hello&#39;</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token string">&#39;greetings&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;greetings from Dart!&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> hetuValue <span class="token operator">=</span> hetu<span class="token punctuation">.</span><span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">r&#39;&#39;&#39;
      external fun hello
      var dartValue = hello()
      dartValue[&#39;reply&#39;] = &#39;Hi, this is Hetu.&#39;
      dartValue // the script will return the value of it&#39;s last expression
      &#39;&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&#39;hetu value: $hetuValue&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="vscode-extension" tabindex="-1"><a class="header-anchor" href="#vscode-extension" aria-hidden="true">#</a> VScode extension</h2>`,6),x=s("If you are using VSCode as your editor, you can download "),w={href:"https://marketplace.visualstudio.com/items?itemName=hetu-script.hetuscript",target:"_blank",rel:"noopener noreferrer"},V=s("this extension"),H=s(" to get highlight for hetu code and some useful snippets for Dart code.");function F(S,B){const t=e("RouterLink"),i=e("ExternalLinkIcon");return c(),l(r,null,[k,n("p",null,[h,a(t,{to:"/docs/en-US/syntax/"},{default:p(()=>[m]),_:1}),b]),g,_,n("p",null,[a(t,{to:"/docs/en-US/binding/"},{default:p(()=>[f]),_:1}),v]),y,n("p",null,[x,n("a",w,[V,a(i)]),H])],64)}var D=u(d,[["render",F]]);export{D as default};
