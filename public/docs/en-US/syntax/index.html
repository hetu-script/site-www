<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.27">
    <title>Language | Hetu Script Language</title><meta name="description" content="A lightweight script language written in Dart for embedding in Flutter apps.">
    <link rel="preload" href="/assets/js/runtime~app.9e3ccc82.js" as="script"><link rel="preload" href="/assets/css/styles.314a22d5.css" as="style"><link rel="preload" href="/assets/js/765.c83ef7e9.js" as="script"><link rel="preload" href="/assets/js/app.3b235fee.js" as="script">
    <link rel="stylesheet" href="/assets/css/styles.314a22d5.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/docs/en-US/" class=""><!----><span class="site-name">Hetu Script Language</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><nav class="navbar-links can-hide"><!--[--><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Tool"><span class="title">Tool</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Tool"><span class="title">Tool</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a class="nav-link external" href="https://marketplace.visualstudio.com/items?itemName=hetu-script.hetuscript" rel="noopener noreferrer" target="_blank" aria-label="VSCode Extension"><!--[--><!--]--> VSCode Extension <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/hetu-script/hetu-script" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="Search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Tool"><span class="title">Tool</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Tool"><span class="title">Tool</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a class="nav-link external" href="https://marketplace.visualstudio.com/items?itemName=hetu-script.hetuscript" rel="noopener noreferrer" target="_blank" aria-label="VSCode Extension"><!--[--><!--]--> VSCode Extension <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/hetu-script/hetu-script" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--[--><a href="/docs/en-US/" class="nav-link sidebar-heading sidebar-item" aria-label="Introduction"><!--[--><!--]--> Introduction <!--[--><!--]--></a><!----><!--]--><!--[--><a href="/docs/en-US/installation/" class="nav-link sidebar-heading sidebar-item" aria-label="Installation"><!--[--><!--]--> Installation <!--[--><!--]--></a><!----><!--]--><!--[--><a href="/docs/en-US/common_api/" class="nav-link sidebar-heading sidebar-item" aria-label="Common API"><!--[--><!--]--> Common API <!--[--><!--]--></a><!----><!--]--><!--[--><a aria-current="page" href="/docs/en-US/syntax/" class="router-link-active router-link-exact-active nav-link router-link-active sidebar-heading sidebar-item active" aria-label="Language"><!--[--><!--]--> Language <!--[--><!--]--></a><ul class=""><li><!--[--><a aria-current="page" href="/docs/en-US/syntax/#comments" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Comments"><!--[--><!--]--> Comments <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/en-US/syntax/#variable" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Variable"><!--[--><!--]--> Variable <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/en-US/syntax/#type-declaration" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Type declaration"><!--[--><!--]--> Type declaration <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/en-US/syntax/#function" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Function"><!--[--><!--]--> Function <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/docs/en-US/syntax/#variadic-parameter" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Variadic parameter"><!--[--><!--]--> Variadic parameter <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/en-US/syntax/#return-value" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Return value"><!--[--><!--]--> Return value <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/docs/en-US/syntax/#class" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Class"><!--[--><!--]--> Class <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/en-US/syntax/#struct" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Struct"><!--[--><!--]--> Struct <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/docs/en-US/syntax/#named-struct" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Named struct"><!--[--><!--]--> Named struct <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/en-US/syntax/#literal-struct" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Literal struct"><!--[--><!--]--> Literal struct <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/en-US/syntax/#literal-struct-and-literal-function" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Literal struct and literal function"><!--[--><!--]--> Literal struct and literal function <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/docs/en-US/syntax/#identifier" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Identifier"><!--[--><!--]--> Identifier <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/en-US/syntax/#namespace" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Namespace"><!--[--><!--]--> Namespace <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/en-US/syntax/#control-flow" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Control flow"><!--[--><!--]--> Control flow <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/docs/en-US/syntax/#truth-value" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Truth value"><!--[--><!--]--> Truth value <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/en-US/syntax/#if" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="If"><!--[--><!--]--> If <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/en-US/syntax/#loop" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Loop"><!--[--><!--]--> Loop <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/en-US/syntax/#for" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="For"><!--[--><!--]--> For <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/en-US/syntax/#when" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="When"><!--[--><!--]--> When <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/docs/en-US/syntax/#spread-syntax" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Spread syntax"><!--[--><!--]--> Spread syntax <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/docs/en-US/syntax/#function-call-argument" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Function call argument"><!--[--><!--]--> Function call argument <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/en-US/syntax/#list-literal" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="List literal"><!--[--><!--]--> List literal <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/en-US/syntax/#struct-literal" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Struct literal"><!--[--><!--]--> Struct literal <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/docs/en-US/syntax/#keywords" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Keywords"><!--[--><!--]--> Keywords <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/en-US/syntax/#operator-precedence" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Operator precedence"><!--[--><!--]--> Operator precedence <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><a href="/docs/en-US/module/" class="nav-link sidebar-heading sidebar-item" aria-label="Module import &amp; export"><!--[--><!--]--> Module import &amp; export <!--[--><!--]--></a><!----><!--]--><!--[--><a href="/docs/en-US/binding/" class="nav-link sidebar-heading sidebar-item" aria-label="Communicating with Dart"><!--[--><!--]--> Communicating with Dart <!--[--><!--]--></a><!----><!--]--><!--[--><a href="/docs/en-US/advanced/" class="nav-link sidebar-heading sidebar-item" aria-label="Advanced topics"><!--[--><!--]--> Advanced topics <!--[--><!--]--></a><!----><!--]--><!--[--><a href="/docs/en-US/analyzer/" class="nav-link sidebar-heading sidebar-item" aria-label="Analyzer"><!--[--><!--]--> Analyzer <!--[--><!--]--></a><!----><!--]--><!--[--><a href="/docs/en-US/command_line_tool/" class="nav-link sidebar-heading sidebar-item" aria-label="Command line tool"><!--[--><!--]--> Command line tool <!--[--><!--]--></a><!----><!--]--><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="syntax-of-hetu-script-language" tabindex="-1"><a class="header-anchor" href="#syntax-of-hetu-script-language" aria-hidden="true">#</a> Syntax of Hetu Script Language</h1><p>Hetu&#39;s grammar is close to most modern languages, with a few key characteristics:</p><p>Declarations starts with a keyword before the identifier: var, final, const, fun, construct, get, set, class, type, etc.</p><p>Semicolon is optional. In most cases, the interpreter will know when a statement is finished. In rare cases, the lexer will implicitly add &quot;end of statement token&quot; (a semicolon in default lexicon) to avoid ambiguities. For example, before a line when the line starts with one of &#39;++, --, (, [, {&#39;, or after a line when the line ends with &#39;return&#39;.</p><p>Type annotation is optional. Type is annotated <strong>with a colon after the identifier</strong> like typescript/kotlin/swift.</p><p>Use <strong>when</strong> instead of <strong>switch</strong></p><h2 id="comments" tabindex="-1"><a class="header-anchor" href="#comments" aria-hidden="true">#</a> Comments</h2><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// This is a comment.</span>
<span class="token comment">/* These are multi-line comments:
another line.*/</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="variable" tabindex="-1"><a class="header-anchor" href="#variable" aria-hidden="true">#</a> Variable</h2><p>Variable is declared with &#39;var&#39;, &#39;final&#39;. The type annotation and initialize expression is optional.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">var</span> person<span class="token punctuation">;</span>
<span class="token keyword">var</span> fineStructureConstant<span class="token operator">:</span> num <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">/</span> <span class="token number">137</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> isTimeTravelSuccessful<span class="token operator">:</span> bool <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> skill<span class="token operator">:</span> List <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;attack&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;defense&#39;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>String literal can have interpolation the same to Javascript:</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">&#39;dragon&#39;</span>
<span class="token comment">// print: To kill the dragon, you have to wait 42 years.</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&#39;To kill the ${a}, you have to wait ${6*7} years.&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>A little difference from Dart is that you have to write a curly brackets even if you have only one identifier.</p><p>You can declare a const int/float/string value by keyword &#39;const&#39;.</p><h2 id="type-declaration" tabindex="-1"><a class="header-anchor" href="#type-declaration" aria-hidden="true">#</a> Type declaration</h2><p><strong>WARNING: Type system is not fully implemented yet. It&#39;s more of a kind of annotation. You won&#39;t get analysis errors from them currently.</strong></p><p>Variables will be given a type if it has an initialize expression. And you cannot re-assign it with another type.</p><p>However, if you declare a variable with no initialize expression, the variable will be considered as having a <strong>any</strong> type (equals to dart&#39;s dynamic type).</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">&#39;naruto&#39;</span><span class="token punctuation">;</span>
<span class="token comment">// name = 2020 // error!</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Type is a variable in Hetu, it can be assigned and returned.</p><p>The type of a type is always &#39;type&#39;, no matter it&#39;s a primitive, instance, or function type.</p><p>Use &#39;typeof&#39; keyword to get the runtime type of a value.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>fun main <span class="token punctuation">{</span>
  <span class="token comment">// decalre a function typedef</span>
  <span class="token keyword">type</span> <span class="token class-name">funcTypedef</span> <span class="token operator">=</span> <span class="token function">fun</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> num
  <span class="token comment">// assign a function to a value of a certain function type</span>
  <span class="token class-name"><span class="token keyword">var</span></span> numparse<span class="token operator">:</span> funcTypedef <span class="token operator">=</span> <span class="token function">fun</span><span class="token punctuation">(</span>value<span class="token operator">:</span> str<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> num <span class="token punctuation">{</span> <span class="token keyword">return</span> num<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">}</span>
  <span class="token comment">// get a value&#39;s runtime type and return it from a function</span>
  <span class="token keyword">var</span> getType <span class="token operator">=</span> fun <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">typeof</span> numparse <span class="token punctuation">}</span>
  <span class="token keyword">var</span> funcTypedef2 <span class="token operator">=</span> <span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment">// use this new type</span>
  <span class="token keyword">var</span> strlength<span class="token operator">:</span> funcTypedef2 <span class="token operator">=</span> <span class="token function">fun</span><span class="token punctuation">(</span>value<span class="token operator">:</span> str<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> num <span class="token punctuation">{</span> <span class="token keyword">return</span> value<span class="token punctuation">.</span>length <span class="token punctuation">}</span>
  <span class="token comment">// expected output: 11</span>
  <span class="token function">print</span><span class="token punctuation">(</span><span class="token function">strlength</span><span class="token punctuation">(</span><span class="token string">&#39;hello world&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="function" tabindex="-1"><a class="header-anchor" href="#function" aria-hidden="true">#</a> Function</h2><p>Function is declared with <strong>fun</strong>, <strong>get</strong>, <strong>set</strong>, <strong>construct</strong>. The parameter list, return type and function body are all optional. For functions with no parameters, the empty brackets are also optional.</p><p>For a literal function expression, the function name is also optional if there&#39;s no type arguments and dart function typedef.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>fun <span class="token function">doubleIt</span><span class="token punctuation">(</span>n<span class="token operator">:</span> num<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> num <span class="token punctuation">{</span>
  <span class="token keyword">return</span> n <span class="token operator">*</span> <span class="token number">2</span>
<span class="token punctuation">}</span>

fun main <span class="token punctuation">{</span>
  def x <span class="token operator">=</span> <span class="token function">doubleIt</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span> <span class="token comment">// expect 14</span>
  <span class="token function">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>For functions declared with <strong>fun</strong>, when no return type is provided in declaration, it will have a return type of <strong>any</strong>. And it will return null if you didn&#39;t write return statement within the definition body.</p><p>Member functions can also be declared with <strong>get</strong>, <strong>set</strong>, <strong>construct</strong>, they literally means getter, setter and contructor function.</p><p>If a class have a getter or setter function. You can use &#39;class_name.func_name&#39; to get or set the value hence get rid of the empty brackets.</p><p>Function can have no name, it will then become a literal function expression (anonymous function). And a literal function can have no keyword, in this situation, the parameter brackets are not omittable even if it&#39;s empty.</p><p>Functions can be nested, and nested functions can have names.</p><p>Function are first class, you can use function as parameter, return value and store them in variables.</p><p>Function body could be a block statement (within &#39;{&#39; and &#39;}&#39;), or a single line expression after &#39;=&gt;&#39;.</p><p>Return type is marked by a single arrow (&#39;-&gt;&#39;) after the parameters brackets.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>fun <span class="token function">closure</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">42</span>
  fun nested <span class="token punctuation">{</span>
    <span class="token keyword">return</span> i <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> nested
<span class="token punctuation">}</span>

fun main <span class="token punctuation">{</span>
  <span class="token keyword">var</span> func <span class="token operator">=</span> <span class="token function">closure</span><span class="token punctuation">(</span> <span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> n <span class="token operator">*</span> n <span class="token punctuation">)</span>
  <span class="token function">print</span><span class="token punctuation">(</span><span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// print: 1849</span>
  <span class="token function">print</span><span class="token punctuation">(</span><span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// print: 1936</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="variadic-parameter" tabindex="-1"><a class="header-anchor" href="#variadic-parameter" aria-hidden="true">#</a> Variadic parameter</h3><p>In function declaration&#39;s parameters. &#39;...&#39; means you can pass as many positional arguments as you wish.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>external fun <span class="token function">print</span><span class="token punctuation">(</span><span class="token operator">...</span> args<span class="token operator">:</span> any<span class="token punctuation">)</span>

<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&#39;hello&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;world!&#39;</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">)</span> <span class="token comment">// okay!</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="return-value" tabindex="-1"><a class="header-anchor" href="#return-value" aria-hidden="true">#</a> Return value</h3><p>If there&#39;s a return statement is the function body, it will return the value of the expression after the keyword.</p><p>If there&#39;s none return statement, functions will return the last expression&#39;s value as it return value. Note that for control statement, it will also return the last statement within it&#39;s code block.</p><h2 id="class" tabindex="-1"><a class="header-anchor" href="#class" aria-hidden="true">#</a> Class</h2><p>Class can have static variables and methods. Which can be accessed through the class name.</p><p>Class&#39;s member functions use special keyword: <strong>construct, get, set</strong>, to define a constructor, getter, setter function.</p><p>Constructors can be with no function name and cannot return values. When calling they will always return a instance.</p><p>Getter &amp; setter functions can be used feels like a member variable. They can be accessed without brackets.</p><p>Use &#39;extends&#39; to inherits other class&#39;s members</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// class definition</span>
<span class="token keyword">class</span> <span class="token class-name">Calculator</span> <span class="token punctuation">{</span>
  <span class="token comment">// instance member</span>
  <span class="token keyword">var</span> x<span class="token operator">:</span> num
  <span class="token keyword">var</span> y<span class="token operator">:</span> num
  <span class="token comment">// static private member</span>
  <span class="token keyword">static</span> <span class="token keyword">var</span> _name <span class="token operator">=</span> <span class="token string">&#39;the calculator&#39;</span>
  <span class="token comment">// static get function</span>
  <span class="token keyword">static</span> <span class="token keyword">get</span> name <span class="token operator">-</span><span class="token operator">&gt;</span> str <span class="token punctuation">{</span>
    <span class="token keyword">return</span> _name
  <span class="token punctuation">}</span>
  <span class="token comment">// static set function</span>
  <span class="token keyword">static</span> <span class="token keyword">set</span> <span class="token function">name</span><span class="token punctuation">(</span>new_name<span class="token operator">:</span> str<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    _name <span class="token operator">=</span> new_name
  <span class="token punctuation">}</span>
  <span class="token comment">// static function</span>
  <span class="token keyword">static</span> fun greeting <span class="token punctuation">{</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&#39;hello! I\&#39;m &#39;</span> <span class="token operator">+</span> name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// constructor with parameters</span>
  <span class="token function">construct</span> <span class="token punctuation">(</span>x<span class="token operator">:</span> num<span class="token punctuation">,</span> y<span class="token operator">:</span> num<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// use this to access instance members with same names</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x
    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y
  <span class="token punctuation">}</span>
  <span class="token comment">// method with return type</span>
  <span class="token class-name">fun</span> meaning <span class="token operator">-</span><span class="token operator">&gt;</span> num <span class="token punctuation">{</span>
    <span class="token comment">// when no shadowing, `this` keyword can be omitted</span>
    <span class="token keyword">return</span> x <span class="token operator">*</span> y
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h2 id="struct" tabindex="-1"><a class="header-anchor" href="#struct" aria-hidden="true">#</a> Struct</h2><p>Struct are a prototype base object system. This is mainly borrowed from Javascript.</p><h3 id="named-struct" tabindex="-1"><a class="header-anchor" href="#named-struct" aria-hidden="true">#</a> Named struct</h3><p>Named struct&#39;s declaration are like class, you can have constructors, getter and setters.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>struct Named <span class="token punctuation">{</span>
  <span class="token keyword">var</span> name<span class="token operator">:</span> str
  <span class="token function">construct</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token operator">:</span> str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>The named struct declaration itself is also a struct. you can access and modify its member.</p><p>However this kind of modification won&#39;t affect the object that created before.</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">final</span> n <span class="token operator">=</span> <span class="token class-name">Named</span><span class="token punctuation">(</span><span class="token string">&#39;Jimmy&#39;</span><span class="token punctuation">)</span>
<span class="token class-name">Named</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;Jones&#39;</span>
<span class="token function">print</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// &#39;Jimmy&#39;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>You can define static fields on a named struct.</p><p>Unlike static members in class, the object created by the struct constructor can access the static fields through &#39;.&#39; operator.</p><p>And if you changed the static fields in a named struct. All the object created from this named struct, will be getting the new value.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>struct Named <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token keyword">var</span> race <span class="token operator">=</span> <span class="token string">&#39;Human&#39;</span>
  <span class="token keyword">var</span> name
  <span class="token function">construct</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
final n <span class="token operator">=</span> <span class="token function">Named</span><span class="token punctuation">(</span><span class="token string">&#39;Jimmy&#39;</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// Jimmy</span>
<span class="token function">print</span><span class="token punctuation">(</span>Named<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// null</span>
Named<span class="token punctuation">.</span>race <span class="token operator">=</span> <span class="token string">&#39;Dragon&#39;</span>
<span class="token function">print</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span>race<span class="token punctuation">)</span> <span class="token comment">// Dragon</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>One important thing worth noted: within a named struct&#39;s method, <strong>you cannot omit &#39;this&#39; when accessing its own members</strong> like you would do in a class method.</p><h3 id="literal-struct" tabindex="-1"><a class="header-anchor" href="#literal-struct" aria-hidden="true">#</a> Literal struct</h3><p>Literal struct are expressions in the form of &#39;{key: value}&#39;</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&#39;jimmy&#39;</span>
  age<span class="token operator">:</span> <span class="token number">17</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>The key must be either a identifier, or a string literal (not includes string interpolation).</p><p>Struct are different from class, that you wont get errors when you visit a non-exist member.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>obj<span class="token punctuation">.</span>race <span class="token operator">=</span> <span class="token string">&#39;dragon&#39;</span><span class="token punctuation">;</span> <span class="token comment">// okay, this will define a new member on obj.</span>
<span class="token keyword">var</span> lvl <span class="token operator">=</span> obj<span class="token punctuation">.</span>level<span class="token punctuation">;</span> <span class="token comment">// okay, although lvl&#39;s value will be null</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Struct&#39;s prototype can be accessed and modified through &#39;$prototype&#39;. Struct&#39;s root prototype has two functions: toString() and toJson(). Can be used to easily convert a struct into other code.</p><h3 id="literal-struct-and-literal-function" tabindex="-1"><a class="header-anchor" href="#literal-struct-and-literal-function" aria-hidden="true">#</a> Literal struct and literal function</h3><p>You can bind a literal function onto a literal struct object and get a new function.</p><p>This is useful when you want to seperate data and logic, and still want the function to be able to have &#39;this&#39; keyword.</p><p>Notice that this method won&#39;t modify the functio itself. It will give you a new function instead.</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">final</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">&#39;nobody&#39;</span>
<span class="token punctuation">}</span>
<span class="token keyword">final</span> func <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;foobar&#39;</span>
<span class="token punctuation">}</span>
<span class="token keyword">final</span> newfunc <span class="token operator">=</span>func<span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
<span class="token function">newfunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// &#39;foobar&#39;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="identifier" tabindex="-1"><a class="header-anchor" href="#identifier" aria-hidden="true">#</a> Identifier</h2><p>Identifiers are the names of classes, functions, types, members and fields. In common situations, you can only use letters or characters from any language, plus underscore and dollor sign.</p><p>However, it&#39;s possible to get a identifier from any possible characters within a pair grave accent mark.</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  `name<span class="token operator">-</span>#<span class="token number">42</span>🍎`<span class="token punctuation">:</span> <span class="token string">&#39;aleph&#39;</span> <span class="token comment">// it&#39;s legal for a field name.</span>
<span class="token punctuation">}</span>

<span class="token function">print</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>`name<span class="token operator">-</span>#<span class="token number">42</span>🍎`<span class="token punctuation">)</span> <span class="token comment">// &#39;aleph&#39;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="namespace" tabindex="-1"><a class="header-anchor" href="#namespace" aria-hidden="true">#</a> Namespace</h2><p>It&#39;s possible to create a code block within a source or a function body, by declaring with keyword &#39;namespace&#39; and an Identifer as its name.</p><p>The namespace code block works like a class definition. It only allows for variable/class/function declaration, but not for expresssions.</p><p>Refer <a href="#do">Do statement</a> for another kind of code block.</p><h2 id="control-flow" tabindex="-1"><a class="header-anchor" href="#control-flow" aria-hidden="true">#</a> Control flow</h2><p>Hetu has while, do loops, and classic for(init;condition;increment) and for...in loops. As well as when statement, which works like switch.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>fun main <span class="token punctuation">{</span>
  <span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span><span class="token punctuation">;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">++</span>i
    <span class="token function">when</span> <span class="token punctuation">(</span><span class="token parameter">i <span class="token operator">%</span> <span class="token number">2</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token number">0</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&#39;even:&#39;</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span>
      <span class="token number">1</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&#39;odd:&#39;</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span>
      <span class="token keyword">else</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&#39;never going to happen.&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&gt;</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">break</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="truth-value" tabindex="-1"><a class="header-anchor" href="#truth-value" aria-hidden="true">#</a> Truth value</h3><p>If the interpreter is in non strict mode, the if/do/while statement&#39;s condition expression will be inexplicitly converted to boolean.</p><p>The conversion rules is:</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>condition <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span>
    <span class="token operator">!</span>condition <span class="token operator">||</span>
    condition <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">||</span>
    condition <span class="token operator">==</span> <span class="token string">&#39;&#39;</span> <span class="token operator">||</span>
    condition <span class="token operator">==</span> <span class="token string">&#39;0&#39;</span> <span class="token operator">||</span>
    condition <span class="token operator">==</span> <span class="token string">&#39;false&#39;</span> <span class="token operator">||</span>
    <span class="token punctuation">(</span>condition <span class="token operator">is</span> <span class="token class-name">List</span> <span class="token operator">&amp;&amp;</span> condition<span class="token punctuation">.</span>isEmpty<span class="token punctuation">)</span> <span class="token operator">||</span>
    <span class="token punctuation">(</span>condition <span class="token operator">is</span> <span class="token class-name">Map</span> <span class="token operator">&amp;&amp;</span> condition<span class="token punctuation">.</span>isEmpty<span class="token punctuation">)</span> <span class="token operator">||</span>
    <span class="token punctuation">(</span>condition <span class="token operator">is</span> <span class="token class-name">HTStruct</span> <span class="token operator">&amp;&amp;</span> condition<span class="token punctuation">.</span>isEmpty<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="if" tabindex="-1"><a class="header-anchor" href="#if" aria-hidden="true">#</a> If</h3><p>&#39;if&#39; statement&#39;s branches could be a single statement without brackets. &#39;if&#39; can also be an expression which will have a value, in this case else branch is not omitable.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>condition<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="loop" tabindex="-1"><a class="header-anchor" href="#loop" aria-hidden="true">#</a> Loop</h3><h4 id="while" tabindex="-1"><a class="header-anchor" href="#while" aria-hidden="true">#</a> While</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">while</span> <span class="token punctuation">(</span>condition<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="do" tabindex="-1"><a class="header-anchor" href="#do" aria-hidden="true">#</a> Do</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">do</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>condition<span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>&#39;do&#39; statement&#39;s &#39;while&#39; part is optional, if omitted, it will become a anonymous code block. It&#39;s kind of like an anonymous function that immediately calls.</p><h3 id="for" tabindex="-1"><a class="header-anchor" href="#for" aria-hidden="true">#</a> For</h3><p>&#39;for&#39; statement&#39;s expr must be separated with &#39;;&#39;.</p><p>The expression itself is optional. If you write &#39;for ( ; ; )&#39;, it will be the same to &#39;while (true)&#39;</p><p>When use for...in, the loop will iterate through the keys of a list.</p><p>When use for...of, the loop will iterate through the values of a struct literal/Dart Map.</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">for</span> <span class="token punctuation">(</span>init<span class="token punctuation">;</span> condition<span class="token punctuation">;</span> increment<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> item <span class="token keyword">in</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> item of obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="when" tabindex="-1"><a class="header-anchor" href="#when" aria-hidden="true">#</a> When</h3><p>When is the substitue for &#39;switch&#39; in older programming languages, we change its name to indicate more complex usages.</p><p>&#39;when&#39; statement&#39;s condition is optional. If not provided, the interpreter will check the cases and jump to the first branch if the expression evaled as true. In this case, the when statement is more like a if else statement except with a little more efficiency because it won&#39;t go through every branch.</p><p>&#39;when&#39; statement&#39;s case could be non-const expression or variables;</p><p>&#39;when&#39; statement&#39;s body must be enclosed in curly brackets. However, the case branch could be a single statement without brackets;</p><p>&#39;when&#39; statement&#39;s else branch is optional.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">when</span> <span class="token punctuation">(</span><span class="token parameter">condition</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  expr <span class="token operator">-</span><span class="token operator">&gt;</span> expr <span class="token comment">// ...single expression...</span>
  expr <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...block statement...</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// will not fall through here</span>
  <span class="token keyword">else</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="spread-syntax" tabindex="-1"><a class="header-anchor" href="#spread-syntax" aria-hidden="true">#</a> Spread syntax</h2><p>You can use spread syntax (&#39;...&#39;) in three places:</p><h3 id="function-call-argument" tabindex="-1"><a class="header-anchor" href="#function-call-argument" aria-hidden="true">#</a> Function call argument</h3><p>In function call&#39;s arguments. This means to &#39;spread&#39; the list object here to fill in the positional argument list.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>fun <span class="token function">someFunc</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">print</span><span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span>
<span class="token function">someFunc</span><span class="token punctuation">(</span><span class="token operator">...</span>list<span class="token punctuation">)</span> <span class="token comment">// same to &#39;someFunc(5, 6)&#39;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="list-literal" tabindex="-1"><a class="header-anchor" href="#list-literal" aria-hidden="true">#</a> List literal</h3><p>In list literal&#39;s value list, This means to &#39;spread&#39; the list object here to fill in the items.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> ht <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">...</span>list<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// same to [1, 2, 3, 4, 5, 6]</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="struct-literal" tabindex="-1"><a class="header-anchor" href="#struct-literal" aria-hidden="true">#</a> Struct literal</h3><p>In struct literal&#39;s value list, This means to &#39;spread&#39; the struct object here to fill in the field.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token punctuation">{</span>
  familyName<span class="token operator">:</span> <span class="token string">&#39;Hord&#39;</span><span class="token punctuation">,</span>
  firstName<span class="token operator">:</span> <span class="token string">&#39;Luk&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> job <span class="token operator">=</span> <span class="token string">&#39;wood cutter&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>name<span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">23</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// same to:</span>
<span class="token comment">// {</span>
<span class="token comment">//   familyName: &#39;Hord&#39;,</span>
<span class="token comment">//   firstName: &#39;Luk&#39;,</span>
<span class="token comment">//   age: 23,</span>
<span class="token comment">//   job: &#39;wood cutter&#39;</span>
<span class="token comment">// }</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="keywords" tabindex="-1"><a class="header-anchor" href="#keywords" aria-hidden="true">#</a> Keywords</h2><p><strong>null, true, false, void<sup>1</sup>, type<sup>1</sup>, import<sup>1</sup>, export<sup>1</sup>, from<sup>1</sup>, any<sup>1</sup>, unknown<sup>12</sup>, never<sup>12</sup>, var, final, const, def<sup>2</sup>, delete<sup>2</sup>, typeof, namespace, class, enum, fun, struct, this, super, abstract, override<sup>2</sup>, external, static, extends, implements<sup>2</sup>, with<sup>2</sup>, construct, factory, get, set, async<sup>2</sup>, await<sup>2</sup>, break, continue, return, for, in, of<sup>1</sup>, if, else, while, do, when, is, as</strong></p><p>1: These keywords are contextual. they only used in specific places, hence can be used as normal identifiers (class members, etc.).</p><p>2: These keywords have no really effect for now, they are reserved for future development.</p><h2 id="operator-precedence" tabindex="-1"><a class="header-anchor" href="#operator-precedence" aria-hidden="true">#</a> Operator precedence</h2><table><thead><tr><th style="text-align:left;">Description</th><th style="text-align:left;">Operator</th><th style="text-align:center;">Associativity</th><th style="text-align:center;">Precedence</th></tr></thead><tbody><tr><td style="text-align:left;">Unary postfix</td><td style="text-align:left;">e., e?., e++, e--, e1[e2], e()</td><td style="text-align:center;">None</td><td style="text-align:center;">16</td></tr><tr><td style="text-align:left;">Unary prefix</td><td style="text-align:left;">-e, !e, ++e, --e</td><td style="text-align:center;">None</td><td style="text-align:center;">15</td></tr><tr><td style="text-align:left;">Multiplicative</td><td style="text-align:left;">*, /, ~/, %</td><td style="text-align:center;">Left</td><td style="text-align:center;">14</td></tr><tr><td style="text-align:left;">Additive</td><td style="text-align:left;">+,</td><td style="text-align:center;">Left</td><td style="text-align:center;">13</td></tr><tr><td style="text-align:left;">Relational</td><td style="text-align:left;">&lt;, &gt;, &lt;=, &gt;=, as, is, is!</td><td style="text-align:center;">None</td><td style="text-align:center;">8</td></tr><tr><td style="text-align:left;">Equality</td><td style="text-align:left;">==, !=</td><td style="text-align:center;">None</td><td style="text-align:center;">7</td></tr><tr><td style="text-align:left;">Logical AND</td><td style="text-align:left;">&amp;&amp;</td><td style="text-align:center;">Left</td><td style="text-align:center;">6</td></tr><tr><td style="text-align:left;">Logical Or</td><td style="text-align:left;">||</td><td style="text-align:center;">Left</td><td style="text-align:center;">5</td></tr><tr><td style="text-align:left;">If null</td><td style="text-align:left;">??</td><td style="text-align:center;">Left</td><td style="text-align:center;">4</td></tr><tr><td style="text-align:left;">Conditional</td><td style="text-align:left;">e1 ? e2 : e3</td><td style="text-align:center;">Right</td><td style="text-align:center;">3</td></tr><tr><td style="text-align:left;">Assignment</td><td style="text-align:left;">=, *=, /=, ~/=, +=, -=, ??=</td><td style="text-align:center;">Right</td><td style="text-align:center;">1</td></tr></tbody></table><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><span class="meta-item-info">12/17/2021, 11:51:02 AM</span></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: chengfubeiming@gmail.com">邵燃</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: hythloday@live.com">hythloday@live.com</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"> ← <a href="/docs/en-US/common_api/" class="nav-link" aria-label="Common API"><!--[--><!--]--> Common API <!--[--><!--]--></a></span><span class="next"><a href="/docs/en-US/module/" class="nav-link" aria-label="Module import &amp; export"><!--[--><!--]--> Module import &amp; export <!--[--><!--]--></a> → </span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script src="/assets/js/runtime~app.9e3ccc82.js" defer></script><script src="/assets/js/765.c83ef7e9.js" defer></script><script src="/assets/js/app.3b235fee.js" defer></script>
  </body>
</html>
