<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Language - Hetu Script Language | Hetu Script Language</title>
    <meta name="description" content="A lightweight script language written in Dart for embedding in Flutter apps.">
    <link rel="stylesheet" href="/assets/style.019f39fc.css">
    <link rel="modulepreload" href="/assets/Home.0ebac21b.js">
    <link rel="modulepreload" href="/assets/app.7121ab72.js">
    <link rel="modulepreload" href="/assets/docs_en-US_syntax_index.md.16880def.lean.js">
    <link rel="modulepreload" href="/assets/app.7121ab72.js">
    <meta name="twitter:title" content="Language - Hetu Script Language | Hetu Script Language">
    <meta property="og:title" content="Language - Hetu Script Language | Hetu Script Language">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-675d8756><div class="sidebar-button" data-v-675d8756><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/docs/en-US/" aria-label="Hetu Script Language, back to home" data-v-675d8756 data-v-4a583abe><!----> Hetu Script Language</a><div class="flex-grow" data-v-675d8756></div><div class="nav" data-v-675d8756><nav class="nav-links" data-v-675d8756 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-dropdown-link" data-v-eab3edfe data-v-56bf3a3f><button class="button" data-v-56bf3a3f><span class="button-text" data-v-56bf3a3f>Tool</span><span class="right button-arrow" data-v-56bf3a3f></span></button><ul class="dialog" data-v-56bf3a3f><!--[--><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item isExternal" href="https://marketplace.visualstudio.com/items?itemName=hetu-script.hetuscript" target="_blank" rel="noopener noreferrer" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>IDE Extension</span><span class="icon" data-v-bbc27490><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-bbc27490><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/hetu-script/hetu-script" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>Github <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><!----><!----></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-83e92a68><nav class="nav-links nav" data-v-83e92a68 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-dropdown-link" data-v-eab3edfe data-v-56bf3a3f><button class="button" data-v-56bf3a3f><span class="button-text" data-v-56bf3a3f>Tool</span><span class="right button-arrow" data-v-56bf3a3f></span></button><ul class="dialog" data-v-56bf3a3f><!--[--><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item isExternal" href="https://marketplace.visualstudio.com/items?itemName=hetu-script.hetuscript" target="_blank" rel="noopener noreferrer" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>IDE Extension</span><span class="icon" data-v-bbc27490><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-bbc27490><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/hetu-script/hetu-script" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>Github <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><!----><!----></nav><!--[--><!--]--><ul class="sidebar-links" data-v-83e92a68><!--[--><li class="sidebar-link"><a class="sidebar-link-item" href="/docs/en-US/">Introduction</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/docs/en-US/installation/">Installation</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/docs/en-US/common_api/">Common API</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item active" href="/docs/en-US/syntax/">Language</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#comments">Comments</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#variable">Variable</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#type-declaration">Type declaration</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#function">Function</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#class">Class</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#struct">Struct</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#named-struct">Named struct</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#literal-struct">Literal struct</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#control-flow">Control flow</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#if">If</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#while">While</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#do">Do</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#truth-value">Truth value</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#for">For</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#when">When</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#spread-syntax">Spread syntax</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#variadic-parameter">Variadic parameter</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#function-call-argument">Function call argument</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#list-literal">List literal</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#struct-literal">Struct literal</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#keywords">Keywords</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#operator-precedence">Operator precedence</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="/docs/en-US/module/">Module import &amp; export</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/docs/en-US/binding/">Communicating with Dart</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/docs/en-US/advanced/">Advanced topics</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/docs/en-US/analyzer/">Analyzer</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/docs/en-US/command_line_tool/">Command line tool</a><!----></li><!--]--></ul><!--[--><!--]--></aside><div class="sidebar-mask"></div><main class="page" data-v-7eddb2c4><div class="container" data-v-7eddb2c4><!--[--><!--]--><div style="position:relative;" class="content" data-v-7eddb2c4><div><h1 id="syntax-of-hetu-script-language" tabindex="-1">Syntax of Hetu Script Language <a class="header-anchor" href="#syntax-of-hetu-script-language" aria-hidden="true">#</a></h1><p>Hetu&#39;s grammar is close to most modern languages, it need very little time to get familar with.</p><p>Key characteristics of Hetu:</p><ul><li>Declarations starts with a keyword before the identifier: var, final, fun, construct, get, set, class, type, etc.</li><li>Semicolon is optional. In most cases, the interpreter will know when a statement is finished. In rare cases, the lexer will implicitly add &quot;end of statement token&quot; (a semicolon in default lexicon) to avoid ambiguities. For example, before a line when the line starts with one of &#39;++, --, (, [, {&#39;, or after a line when the line ends with &#39;return&#39;.</li><li>Type annotation is optional. Type is annotated <strong>with a colon after the identifier</strong> like typescript/kotlin/swift.</li><li>Use <strong>when</strong> instead of <strong>switch</strong></li></ul><h2 id="comments" tabindex="-1">Comments <a class="header-anchor" href="#comments" aria-hidden="true">#</a></h2><div class="language-typescript"><pre><code><span class="token comment">// This is a comment.</span>
<span class="token comment">/* These are multi-line comments:
another line.*/</span>
</code></pre></div><h2 id="variable" tabindex="-1">Variable <a class="header-anchor" href="#variable" aria-hidden="true">#</a></h2><p>Variable is declared with [var], [final]. The type annotation and initialize expression is optional.</p><div class="language-typescript"><pre><code><span class="token keyword">var</span> person<span class="token punctuation">;</span>
<span class="token keyword">var</span> fineStructureConstant<span class="token operator">:</span> num <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">/</span> <span class="token number">137</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> isTimeTravelSuccessful<span class="token operator">:</span> bool <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> skill<span class="token operator">:</span> List <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;attack&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;defense&#39;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>String literal can have interpolation the same to Javascript:</p><div class="language-dart"><pre><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">&#39;dragon&#39;</span>
<span class="token comment">// print: To kill the dragon, you have to wait 42 years.</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&#39;To kill the ${a}, you have to wait ${6*7} years.&#39;</span><span class="token punctuation">)</span>
</code></pre></div><p>A little difference from Dart is that you have to write a curly brackets even if you have only one identifier.</p><h2 id="type-declaration" tabindex="-1">Type declaration <a class="header-anchor" href="#type-declaration" aria-hidden="true">#</a></h2><p><strong>WARNING: Type system is not fully implemented yet. It&#39;s more of a kind of annotation. You won&#39;t get analysis errors from them currently.</strong></p><p>Variables will be given a type if it has an initialize expression. And you cannot re-assign it with another type.</p><p>However, if you declare a variable with no initialize expression, the variable will be considered as having a <strong>any</strong> type (equals to dart&#39;s dynamic type).</p><div class="language-typescript"><pre><code><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">&#39;naruto&#39;</span><span class="token punctuation">;</span>
<span class="token comment">// name = 2020 // error!</span>
</code></pre></div><ul><li>Type is a variable in Hetu, it can be assigned and returned.</li><li>The type of a type is always &#39;type&#39;, no matter it&#39;s a primitive, instance, or function type.</li><li>Use &#39;typeof&#39; keyword to get the runtime type of a value.</li></ul><div class="language-typescript"><pre><code>fun main <span class="token punctuation">{</span>
  <span class="token comment">// decalre a function typedef</span>
  <span class="token keyword">type</span> <span class="token class-name">funcTypedef</span> <span class="token operator">=</span> <span class="token function">fun</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> num
  <span class="token comment">// assign a function to a value of a certain function type</span>
  <span class="token class-name"><span class="token keyword">var</span></span> numparse<span class="token operator">:</span> funcTypedef <span class="token operator">=</span> <span class="token function">fun</span><span class="token punctuation">(</span>value<span class="token operator">:</span> str<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> num <span class="token punctuation">{</span> <span class="token keyword">return</span> num<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">}</span>
  <span class="token comment">// get a value&#39;s runtime type and return it from a function</span>
  <span class="token keyword">var</span> getType <span class="token operator">=</span> fun <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">typeof</span> numparse <span class="token punctuation">}</span>
  <span class="token keyword">var</span> funcTypedef2 <span class="token operator">=</span> <span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment">// use this new type</span>
  <span class="token keyword">var</span> strlength<span class="token operator">:</span> funcTypedef2 <span class="token operator">=</span> <span class="token function">fun</span><span class="token punctuation">(</span>value<span class="token operator">:</span> str<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> num <span class="token punctuation">{</span> <span class="token keyword">return</span> value<span class="token punctuation">.</span>length <span class="token punctuation">}</span>
  <span class="token comment">// expected output: 11</span>
  <span class="token function">print</span><span class="token punctuation">(</span><span class="token function">strlength</span><span class="token punctuation">(</span><span class="token string">&#39;hello world&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="function" tabindex="-1">Function <a class="header-anchor" href="#function" aria-hidden="true">#</a></h2><p>Function is declared with <strong>fun</strong>, <strong>get</strong>, <strong>set</strong>, <strong>construct</strong>. The parameter list, return type and function body are all optional. For functions with no parameters, the empty brackets are also optional.</p><p>For a literal function expression, the function name is also optional if there&#39;s no type arguments and dart function typedef.</p><div class="language-typescript"><pre><code>fun <span class="token function">doubleIt</span><span class="token punctuation">(</span>n<span class="token operator">:</span> num<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> num <span class="token punctuation">{</span>
  <span class="token keyword">return</span> n <span class="token operator">*</span> <span class="token number">2</span>
<span class="token punctuation">}</span>

fun main <span class="token punctuation">{</span>
  def x <span class="token operator">=</span> <span class="token function">doubleIt</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span> <span class="token comment">// expect 14</span>
  <span class="token function">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>For functions declared with <strong>fun</strong>, when no return type is provided in declaration, it will have a return type of <strong>any</strong>. And it will return null if you didn&#39;t write return statement within the definition body.</li><li>Member functions can also be declared with <strong>get</strong>, <strong>set</strong>, <strong>construct</strong>, they literally means getter, setter and contructor function.</li><li>If a class have a getter or setter function. You can use &#39;class_name.func_name&#39; to get or set the value hence get rid of the empty brackets.</li><li>Function can have no name, it will then become a literal function expression (anonymous function).</li><li>Functions can be nested, and nested functions can have names.</li><li>Function are first class, you can use function as parameter, return value and store them in variables.</li><li>Function body could be a block statement (within &#39;{&#39; and &#39;}&#39;), or a single line expression after &#39;=&gt;&#39;.</li><li>Return type is marked by a single arrow (&#39;-&gt;&#39;) after the parameters brackets.</li><li>Literal function could have no names, in this situation, the parameter brackets are not omittable.</li></ul><div class="language-typescript"><pre><code>fun <span class="token function">closure</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">42</span>
  fun nested <span class="token punctuation">{</span>
    <span class="token keyword">return</span> i <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> nested
<span class="token punctuation">}</span>

fun main <span class="token punctuation">{</span>
  <span class="token keyword">var</span> func <span class="token operator">=</span> <span class="token function">closure</span><span class="token punctuation">(</span> <span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> n <span class="token operator">*</span> n <span class="token punctuation">)</span>
  <span class="token function">print</span><span class="token punctuation">(</span><span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// print: 1849</span>
  <span class="token function">print</span><span class="token punctuation">(</span><span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// print: 1936</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="class" tabindex="-1">Class <a class="header-anchor" href="#class" aria-hidden="true">#</a></h2><ul><li>Class can have static variables and methods. Which can be accessed through the class name.</li><li>Class&#39;s member functions use special keyword: <strong>construct, get, set</strong>, to define a constructor, getter, setter function.</li><li>Constructors can be with no function name and cannot return values. When calling they will always return a instance.</li><li>Getter &amp; setter functions can be used feels like a member variable. They can be accessed without brackets.</li><li>Use &#39;extends&#39; to inherits other class&#39;s members</li></ul><div class="language-typescript"><pre><code><span class="token comment">// class definition</span>
<span class="token keyword">class</span> <span class="token class-name">Calculator</span> <span class="token punctuation">{</span>
  <span class="token comment">// instance member</span>
  <span class="token keyword">var</span> x<span class="token operator">:</span> num
  <span class="token keyword">var</span> y<span class="token operator">:</span> num
  <span class="token comment">// static private member</span>
  <span class="token keyword">static</span> <span class="token keyword">var</span> _name <span class="token operator">=</span> <span class="token string">&#39;the calculator&#39;</span>
  <span class="token comment">// static get function</span>
  <span class="token keyword">static</span> <span class="token keyword">get</span> name <span class="token operator">-</span><span class="token operator">&gt;</span> str <span class="token punctuation">{</span>
    <span class="token keyword">return</span> _name
  <span class="token punctuation">}</span>
  <span class="token comment">// static set function</span>
  <span class="token keyword">static</span> <span class="token keyword">set</span> <span class="token function">name</span><span class="token punctuation">(</span>new_name<span class="token operator">:</span> str<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    _name <span class="token operator">=</span> new_name
  <span class="token punctuation">}</span>
  <span class="token comment">// static function</span>
  <span class="token keyword">static</span> fun greeting <span class="token punctuation">{</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&#39;hello! I\&#39;m &#39;</span> <span class="token operator">+</span> name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// constructor with parameters</span>
  <span class="token function">construct</span> <span class="token punctuation">(</span>x<span class="token operator">:</span> num<span class="token punctuation">,</span> y<span class="token operator">:</span> num<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// use this to access instance members with same names</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x
    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y
  <span class="token punctuation">}</span>
  <span class="token comment">// method with return type</span>
  <span class="token class-name">fun</span> meaning <span class="token operator">-</span><span class="token operator">&gt;</span> num <span class="token punctuation">{</span>
    <span class="token comment">// when no shadowing, `this` keyword can be omitted</span>
    <span class="token keyword">return</span> x <span class="token operator">*</span> y
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="struct" tabindex="-1">Struct <a class="header-anchor" href="#struct" aria-hidden="true">#</a></h2><p>Struct are a prototype base object system. This is mainly borrowed from Javascript.</p><h3 id="named-struct" tabindex="-1">Named struct <a class="header-anchor" href="#named-struct" aria-hidden="true">#</a></h3><p>Named struct&#39;s declaration are like class, you can have constructors, getter and setters.</p><div class="language-javascript"><pre><code>struct Named <span class="token punctuation">{</span>
  <span class="token keyword">var</span> name<span class="token operator">:</span> str
  <span class="token function">construct</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token operator">:</span> str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> n <span class="token operator">=</span> <span class="token function">Named</span><span class="token punctuation">(</span><span class="token string">&#39;jimmy&#39;</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="literal-struct" tabindex="-1">Literal struct <a class="header-anchor" href="#literal-struct" aria-hidden="true">#</a></h3><p>Literal struct are expressions in the form of &#39;{key: value}&#39;</p><div class="language-javascript"><pre><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&#39;jimmy&#39;</span>
  age<span class="token operator">:</span> <span class="token number">17</span>
<span class="token punctuation">}</span>
</code></pre></div><p>The key must be either a identifier, or a string literal (not includes string interpolation).</p><p>Struct are different from class, that you wont get errors when you visit a non-exist member.</p><div class="language-javascript"><pre><code>obj<span class="token punctuation">.</span>race <span class="token operator">=</span> <span class="token string">&#39;dragon&#39;</span><span class="token punctuation">;</span> <span class="token comment">// okay, this will define a new member on obj.</span>
<span class="token keyword">var</span> lvl <span class="token operator">=</span> obj<span class="token punctuation">.</span>level<span class="token punctuation">;</span> <span class="token comment">// okay, although lvl&#39;s value will be null</span>
</code></pre></div><ul><li>Struct&#39;s prototype can be accessed and modified through &#39;$prototype&#39;.</li><li>Struct&#39;s root prototype has two functions: toString() and toJson(). Can be used to easily convert a struct into other code.</li></ul><h2 id="control-flow" tabindex="-1">Control flow <a class="header-anchor" href="#control-flow" aria-hidden="true">#</a></h2><p>Hetu has while, do loops, and classic for(init;condition;increment) and for...in loops. As well as when statement, which works like switch.</p><div class="language-javascript"><pre><code>fun main <span class="token punctuation">{</span>
  <span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span><span class="token punctuation">;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">++</span>i
    <span class="token function">when</span> <span class="token punctuation">(</span><span class="token parameter">i <span class="token operator">%</span> <span class="token number">2</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token number">0</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&#39;even:&#39;</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span>
      <span class="token number">1</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&#39;odd:&#39;</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span>
      <span class="token keyword">else</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&#39;never going to happen.&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&gt;</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">break</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="if" tabindex="-1">If <a class="header-anchor" href="#if" aria-hidden="true">#</a></h3><ul><li>&#39;if&#39; statement&#39;s branches could be a single statement without brackets.</li><li>&#39;if&#39; can also be an expression which will have a value, in this case else branch is not omitable.</li></ul><div class="language-javascript"><pre><code><span class="token keyword">if</span> <span class="token punctuation">(</span>condition<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="while" tabindex="-1">While <a class="header-anchor" href="#while" aria-hidden="true">#</a></h3><div class="language-javascript"><pre><code><span class="token keyword">while</span> <span class="token punctuation">(</span>condition<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="do" tabindex="-1">Do <a class="header-anchor" href="#do" aria-hidden="true">#</a></h3><ul><li>&#39;do&#39; statement&#39;s &#39;while&#39; part is optional, if omitted, it will become a anonymous namespace.</li></ul><div class="language-javascript"><pre><code><span class="token keyword">do</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>condition<span class="token punctuation">)</span>
</code></pre></div><h3 id="truth-value" tabindex="-1">Truth value <a class="header-anchor" href="#truth-value" aria-hidden="true">#</a></h3><p>If the interpreter is in non strict mode, the if/do/while statement&#39;s condition expression will be inexplicitly converted to boolean.</p><p>The conversion rules is:</p><div class="language-dart"><pre><code><span class="token keyword">if</span> <span class="token punctuation">(</span>condition <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span>
    <span class="token operator">!</span>condition <span class="token operator">||</span>
    condition <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">||</span>
    condition <span class="token operator">==</span> <span class="token string">&#39;&#39;</span> <span class="token operator">||</span>
    condition <span class="token operator">==</span> <span class="token string">&#39;0&#39;</span> <span class="token operator">||</span>
    condition <span class="token operator">==</span> <span class="token string">&#39;false&#39;</span> <span class="token operator">||</span>
    <span class="token punctuation">(</span>condition <span class="token operator">is</span> <span class="token class-name">List</span> <span class="token operator">&amp;&amp;</span> condition<span class="token punctuation">.</span>isEmpty<span class="token punctuation">)</span> <span class="token operator">||</span>
    <span class="token punctuation">(</span>condition <span class="token operator">is</span> <span class="token class-name">Map</span> <span class="token operator">&amp;&amp;</span> condition<span class="token punctuation">.</span>isEmpty<span class="token punctuation">)</span> <span class="token operator">||</span>
    <span class="token punctuation">(</span>condition <span class="token operator">is</span> <span class="token class-name">HTStruct</span> <span class="token operator">&amp;&amp;</span> condition<span class="token punctuation">.</span>isEmpty<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="for" tabindex="-1">For <a class="header-anchor" href="#for" aria-hidden="true">#</a></h3><ul><li>&#39;for&#39; statement&#39;s expr must be separated with &#39;;&#39;.</li><li>The expression itself is optional. If you write &#39;for ( ; ; )&#39;, it will be the same to &#39;while (true)&#39;</li><li>When use for...in, the loop will iterate through the keys of a list.</li></ul><div class="language-dart"><pre><code><span class="token keyword">for</span> <span class="token punctuation">(</span>init<span class="token punctuation">;</span> condition<span class="token punctuation">;</span> increment<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> item <span class="token keyword">in</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="when" tabindex="-1">When <a class="header-anchor" href="#when" aria-hidden="true">#</a></h3><p>When is the substitue for &#39;switch&#39; in older programming languages, we change its name to indicate more complex usages.</p><ul><li>&#39;when&#39; statement&#39;s condition is optional. If not provided, the interpreter will check the cases and jump to the first branch if the expression evaled as true. In this case, the when statement is more like a if else statement except with a little more efficiency because it won&#39;t go through every branch.</li><li>&#39;when&#39; statement&#39;s case could be non-const expression or variables;</li><li>&#39;when&#39; statement&#39;s body must be enclosed in curly brackets. However, the case branch could be a single statement without brackets;</li><li>&#39;when&#39; statement&#39;s else branch is optional.</li></ul><div class="language-javascript"><pre><code><span class="token function">when</span> <span class="token punctuation">(</span><span class="token parameter">condition</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  expr <span class="token operator">-</span><span class="token operator">&gt;</span> expr <span class="token comment">// ...single expression...</span>
  expr <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...block statement...</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// will not fall through here</span>
  <span class="token keyword">else</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="spread-syntax" tabindex="-1">Spread syntax <a class="header-anchor" href="#spread-syntax" aria-hidden="true">#</a></h2><p>You can use spread syntax (&#39;...&#39;) in three places:</p><h3 id="variadic-parameter" tabindex="-1">Variadic parameter <a class="header-anchor" href="#variadic-parameter" aria-hidden="true">#</a></h3><p>In function declaration&#39;s parameters. This means you can pass as many positional arguments as you wish.</p><div class="language-javascript"><pre><code>external fun <span class="token function">print</span><span class="token punctuation">(</span><span class="token operator">...</span> args<span class="token operator">:</span> any<span class="token punctuation">)</span>

<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&#39;hello&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;world!&#39;</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">)</span> <span class="token comment">// okay!</span>
</code></pre></div><h3 id="function-call-argument" tabindex="-1">Function call argument <a class="header-anchor" href="#function-call-argument" aria-hidden="true">#</a></h3><p>In function call&#39;s arguments. This means to &#39;spread&#39; the list object here to fill in the positional argument list.</p><div class="language-javascript"><pre><code>fun <span class="token function">someFunc</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">print</span><span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span>
<span class="token function">someFunc</span><span class="token punctuation">(</span><span class="token operator">...</span>list<span class="token punctuation">)</span> <span class="token comment">// same to &#39;someFunc(5, 6)&#39;</span>
</code></pre></div><h3 id="list-literal" tabindex="-1">List literal <a class="header-anchor" href="#list-literal" aria-hidden="true">#</a></h3><p>In list literal&#39;s value list, This means to &#39;spread&#39; the list object here to fill in the items.</p><div class="language-javascript"><pre><code><span class="token keyword">var</span> list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> ht <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">...</span>list<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// same to [1, 2, 3, 4, 5, 6]</span>
</code></pre></div><h3 id="struct-literal" tabindex="-1">Struct literal <a class="header-anchor" href="#struct-literal" aria-hidden="true">#</a></h3><p>In struct literal&#39;s value list, This means to &#39;spread&#39; the struct object here to fill in the field.</p><div class="language-javascript"><pre><code><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token punctuation">{</span>
  familyName<span class="token operator">:</span> <span class="token string">&#39;Hord&#39;</span><span class="token punctuation">,</span>
  firstName<span class="token operator">:</span> <span class="token string">&#39;Luk&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> job <span class="token operator">=</span> <span class="token string">&#39;wood cutter&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>name<span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">23</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// same to:</span>
<span class="token comment">// {</span>
<span class="token comment">//   familyName: &#39;Hord&#39;,</span>
<span class="token comment">//   firstName: &#39;Luk&#39;,</span>
<span class="token comment">//   age: 23,</span>
<span class="token comment">//   job: &#39;wood cutter&#39;</span>
<span class="token comment">// }</span>
</code></pre></div><h2 id="keywords" tabindex="-1">Keywords <a class="header-anchor" href="#keywords" aria-hidden="true">#</a></h2><p>Some of the keywords only used in specific places, hence can be used as normal identifiers (variable names &amp; class members, etc.). Some of the keywords have no meaning right now, they are reserved for future development.</p><p>null, true, false, var, final, const, typeof, class, enum, fun, struct, interface, this, super, abstract, override, external, static, extends, implements, with, construct, factory, get, set, async, break, continue, return, for, in, of, if, else, while, do, when, is, as</p><h2 id="operator-precedence" tabindex="-1">Operator precedence <a class="header-anchor" href="#operator-precedence" aria-hidden="true">#</a></h2><table><thead><tr><th style="text-align:left;">Description</th><th style="text-align:left;">Operator</th><th style="text-align:center;">Associativity</th><th style="text-align:center;">Precedence</th></tr></thead><tbody><tr><td style="text-align:left;">Unary postfix</td><td style="text-align:left;">e., e++, e--, e1[e2], e()</td><td style="text-align:center;">None</td><td style="text-align:center;">16</td></tr><tr><td style="text-align:left;">Unary prefix</td><td style="text-align:left;">-e, !e, ++e, --e</td><td style="text-align:center;">None</td><td style="text-align:center;">15</td></tr><tr><td style="text-align:left;">Multiplicative</td><td style="text-align:left;">*, /, %</td><td style="text-align:center;">Left</td><td style="text-align:center;">14</td></tr><tr><td style="text-align:left;">Additive</td><td style="text-align:left;">+, -</td><td style="text-align:center;">Left</td><td style="text-align:center;">13</td></tr><tr><td style="text-align:left;">Relational</td><td style="text-align:left;">&lt;, &gt;, &lt;=, &gt;=, as, is, is!</td><td style="text-align:center;">None</td><td style="text-align:center;">8</td></tr><tr><td style="text-align:left;">Equality</td><td style="text-align:left;">==, !=</td><td style="text-align:center;">None</td><td style="text-align:center;">7</td></tr><tr><td style="text-align:left;">Logical AND</td><td style="text-align:left;">&amp;&amp;</td><td style="text-align:center;">Left</td><td style="text-align:center;">6</td></tr><tr><td style="text-align:left;">Logical Or</td><td style="text-align:left;">||</td><td style="text-align:center;">Left</td><td style="text-align:center;">5</td></tr><tr><td style="text-align:left;">Conditional</td><td style="text-align:left;">e1 ? e2 : e3</td><td style="text-align:center;">Right</td><td style="text-align:center;">3</td></tr><tr><td style="text-align:left;">Assignment</td><td style="text-align:left;">=, *=, /=, +=, -=</td><td style="text-align:center;">Right</td><td style="text-align:center;">1</td></tr></tbody></table></div></div><footer class="page-footer" data-v-7eddb2c4 data-v-fb8d84c6><div class="edit" data-v-fb8d84c6><div class="edit-link" data-v-fb8d84c6 data-v-1ed99556><!----></div></div><div class="updated" data-v-fb8d84c6><!----></div></footer><div class="next-and-prev-link" data-v-7eddb2c4 data-v-38ede35f><div class="container" data-v-38ede35f><div class="prev" data-v-38ede35f><a class="link" href="/docs/en-US/common_api/" data-v-38ede35f><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-prev" data-v-38ede35f><path d="M19,11H7.4l5.3-5.3c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-7,7c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.2-0.1,0.5,0,0.8c0.1,0.1,0.1,0.2,0.2,0.3l7,7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.4,13H19c0.6,0,1-0.4,1-1S19.6,11,19,11z"></path></svg><span class="text" data-v-38ede35f>Common API</span></a></div><div class="next" data-v-38ede35f><a class="link" href="/docs/en-US/module/" data-v-38ede35f><span class="text" data-v-38ede35f>Module import &amp; export</span><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-next" data-v-38ede35f><path d="M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"></path></svg></a></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"docs_en-us_advanced_index.md\":\"4c722a80\",\"docs_en-us_analyzer_index.md\":\"d7351463\",\"docs_en-us_binding_index.md\":\"319eeade\",\"docs_en-us_command_line_tool_index.md\":\"0079215c\",\"docs_en-us_common_api_index.md\":\"d3be55ed\",\"docs_en-us_index.md\":\"86e2b16b\",\"docs_en-us_installation_index.md\":\"e9c7a029\",\"docs_en-us_module_index.md\":\"4162853f\",\"docs_en-us_syntax_index.md\":\"16880def\"}")</script>
    <script type="module" async src="/assets/app.7121ab72.js"></script>
    
  </body>
</html>